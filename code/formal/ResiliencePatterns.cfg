SPECIFICATION SpecWithResilience

CONSTANTS
    Services = {s1, s2, s3}
    Instances = {i1, i2, i3, i4, i5}
    Hosts = {h1, h2, h3}
    Ports = {8080, 8081, 8082, 8083, 8084}
    MaxInstances = 3
    
    MaxRetries = 3
    CircuitTimeout = 5
    MaxFailures = 3
    MaxLatency = 5

INVARIANTS
    TypeInvariant
    NoDuplicateInstances
    CircuitBreakerOpensAfterMaxFailures
    CircuitBreakerPreventsRequests

PROPERTIES
    ServiceDiscoveryWorks
    SystemEventuallyRecovers 